{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hagar\\\\bootcamp\\\\finalepicure\\\\frontend\\\\src\\\\components\\\\OneChef\\\\OneChef.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport RestaurantCard from '../PopularRestaurants/RestaurantCard';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport Footer from '../Footer/Footer';\nimport NavBar from '../NavBar/NavBar';\nimport ImageChef from '../ImageCard/ImageCard';\nimport { removeChef } from '../../store/slices/chefSlice';\nimport './OneChef.css';\nimport AddRest from '../AddRest/AddRest';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OneChef = () => {\n  _s();\n  var _IdNum$restaurant;\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const restaurantsData = useSelector(state => state.restaurants.filteredValue);\n  const chefData = useSelector(state => state.chef.filteredValue);\n  const [deleteChefed, setDeleteChefed] = useState(null);\n  let {\n    id\n  } = useParams();\n  const IdNum = chefData === null || chefData === void 0 ? void 0 : chefData.find(rest => {\n    var _rest$_id;\n    return ((_rest$_id = rest._id) === null || _rest$_id === void 0 ? void 0 : _rest$_id.toString()) === id;\n  });\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    setDeleteChefed(IdNum);\n  }, [chefData, IdNum]);\n  const deletechef = async id => {\n    try {\n      const response = await fetch(`http://localhost:8000/chef`, {\n        method: 'DELETE',\n        body: JSON.stringify({\n          id: id\n        }),\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8'\n        }\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message);\n      }\n      dispatch(removeChef(data.data));\n      navigate('/chefsPage');\n    } catch (err) {\n      console.error(err);\n      throw err;\n    }\n  };\n  const handleRegister = async id => {\n    if (window.confirm(`Are you sure you want to delete?`)) {\n      await deletechef(id);\n    }\n  };\n  const openModal = () => {\n    setIsModalOpen(true);\n  };\n  const closeModal = () => {\n    setIsModalOpen(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"restaurant-page \",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"information-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"delete\",\n        onClick: () => handleRegister(deleteChefed._id),\n        children: \"DELETE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"chef-of-the-page\",\n        children: IdNum ? /*#__PURE__*/_jsxDEV(ImageChef, {\n          name: IdNum.name,\n          img: IdNum.img,\n          id: IdNum.id,\n          _id: IdNum._id\n        }, IdNum.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"chef not found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"ADDREST\",\n        type: \"submit\",\n        onClick: openModal,\n        children: \"ADD REST\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"chef-restaurants\",\n        children: IdNum === null || IdNum === void 0 ? void 0 : (_IdNum$restaurant = IdNum.restaurant) === null || _IdNum$restaurant === void 0 ? void 0 : _IdNum$restaurant.map(chef => {\n          const data = restaurantsData.filter(rest => rest._id === chef);\n          if (data.length === 0) {\n            return null; // or some other fallback if there are no matching restaurants\n          }\n\n          return data.map(restData => /*#__PURE__*/_jsxDEV(RestaurantCard, {\n            img: restData.img,\n            name: restData.name,\n            chef: restData.chef,\n            rating: restData.rating,\n            title: 'chef-rest-page',\n            id: restData.id,\n            titleStar: 'restautant-page-stars',\n            titleImg: 'chef-rest-image',\n            _id: restData._id\n          }, restData.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 8\n          }, this));\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 4\n    }, this), isModalOpen && /*#__PURE__*/_jsxDEV(AddRest, {\n      closeButton: closeModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 20\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 3\n  }, this);\n};\n_s(OneChef, \"clzs7Nx2gTn5FneaokR9YhSNrH4=\", false, function () {\n  return [useSelector, useSelector, useParams, useNavigate, useDispatch];\n});\n_c = OneChef;\nexport default OneChef;\nvar _c;\n$RefreshReg$(_c, \"OneChef\");","map":{"version":3,"names":["React","useEffect","useState","RestaurantCard","useDispatch","useSelector","useNavigate","useParams","Footer","NavBar","ImageChef","removeChef","AddRest","OneChef","isModalOpen","setIsModalOpen","restaurantsData","state","restaurants","filteredValue","chefData","chef","deleteChefed","setDeleteChefed","id","IdNum","find","rest","_id","toString","navigate","dispatch","deletechef","response","fetch","method","body","JSON","stringify","headers","data","json","ok","Error","message","err","console","error","handleRegister","window","confirm","openModal","closeModal","name","img","restaurant","map","filter","length","restData","rating"],"sources":["C:/Users/hagar/bootcamp/finalepicure/frontend/src/components/OneChef/OneChef.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport RestaurantCard from '../PopularRestaurants/RestaurantCard';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport Footer from '../Footer/Footer';\r\nimport NavBar from '../NavBar/NavBar';\r\nimport { Rootstate } from '../../store/store';\r\nimport ImageChef from '../ImageCard/ImageCard';\r\nimport { removeChef } from '../../store/slices/chefSlice';\r\nimport './OneChef.css';\r\nimport { IChef } from '../ChefPage/ChefPage';\r\nimport { IRestaurants } from '../RestaurantPage/RestaurantPage';\r\nimport { ObjectId } from 'mongoose';\r\nimport AddChef from '../AddChef/AddChef';\r\nimport AddRest from '../AddRest/AddRest';\r\n\r\nconst OneChef: React.FC = () => {\r\n\tconst [isModalOpen, setIsModalOpen] = useState<boolean>(false);\r\n\tconst restaurantsData = useSelector(\r\n\t\t(state: Rootstate) => state.restaurants.filteredValue\r\n\t);\r\n\tconst chefData = useSelector((state: Rootstate) => state.chef.filteredValue);\r\n\tconst [deleteChefed, setDeleteChefed] = useState<any>(null);\r\n\tlet { id } = useParams<string>();\r\n\r\n\tconst IdNum: IChef | undefined = chefData?.find((rest: IChef) => {\r\n\t\treturn rest._id?.toString() === id;\r\n\t});\r\n\r\n\tconst navigate = useNavigate();\r\n\tconst dispatch = useDispatch();\r\n\tuseEffect(() => {\r\n\t\tsetDeleteChefed(IdNum);\r\n\t}, [chefData, IdNum]);\r\n\r\n\tconst deletechef = async (id: string) => {\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(`http://localhost:8000/chef`, {\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t}),\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-type': 'application/json; charset=UTF-8',\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tconst data = await response.json();\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tthrow new Error(data.message);\r\n\t\t\t}\r\n\r\n\t\t\tdispatch(removeChef(data.data));\r\n\t\t\tnavigate('/chefsPage');\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err);\r\n\t\t\tthrow err;\r\n\t\t}\r\n\t};\r\n\tconst handleRegister = async (id: string) => {\r\n\t\tif (window.confirm(`Are you sure you want to delete?`)) {\r\n\t\t\tawait deletechef(id);\r\n\t\t}\r\n\t};\r\n\tconst openModal = () => {\r\n\t\tsetIsModalOpen(true);\r\n\t};\r\n\tconst closeModal = () => {\r\n\t\tsetIsModalOpen(false);\r\n\t};\r\n\treturn (\r\n\t\t<div id=\"restaurant-page \">\r\n\t\t\t<NavBar />\r\n\t\t\t<div id=\"information-page\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tid=\"delete\"\r\n\t\t\t\t\tonClick={() => handleRegister(deleteChefed._id)}>\r\n\t\t\t\t\tDELETE\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<div id=\"chef-of-the-page\">\r\n\t\t\t\t\t{IdNum ? (\r\n\t\t\t\t\t\t<ImageChef\r\n\t\t\t\t\t\t\tname={IdNum.name}\r\n\t\t\t\t\t\t\timg={IdNum.img}\r\n\t\t\t\t\t\t\tid={IdNum.id}\r\n\t\t\t\t\t\t\tkey={IdNum.id}\r\n\t\t\t\t\t\t\t_id={IdNum._id}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p>chef not found</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\tid=\"ADDREST\"\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\tonClick={openModal}>\r\n\t\t\t\t\tADD REST\r\n\t\t\t\t</button>\r\n\t\t\t\t<div id=\"chef-restaurants\">\r\n\t\t\t\t\t{IdNum?.restaurant?.map((chef: ObjectId) => {\r\n\t\t\t\t\t\tconst data = restaurantsData.filter(\r\n\t\t\t\t\t\t\t(rest: IRestaurants) => rest._id === chef\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tif (data.length === 0) {\r\n\t\t\t\t\t\t\treturn null; // or some other fallback if there are no matching restaurants\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn data.map((restData: IRestaurants) => (\r\n\t\t\t\t\t\t\t<RestaurantCard\r\n\t\t\t\t\t\t\t\timg={restData.img}\r\n\t\t\t\t\t\t\t\tname={restData.name}\r\n\t\t\t\t\t\t\t\tchef={restData.chef}\r\n\t\t\t\t\t\t\t\trating={restData.rating}\r\n\t\t\t\t\t\t\t\ttitle={'chef-rest-page'}\r\n\t\t\t\t\t\t\t\tid={restData.id}\r\n\t\t\t\t\t\t\t\ttitleStar={'restautant-page-stars'}\r\n\t\t\t\t\t\t\t\ttitleImg={'chef-rest-image'}\r\n\t\t\t\t\t\t\t\tkey={restData.id}\r\n\t\t\t\t\t\t\t\t_id={restData._id}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t));\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Footer />\r\n\t\t\t{isModalOpen && <AddRest closeButton={closeModal} />}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default OneChef;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}