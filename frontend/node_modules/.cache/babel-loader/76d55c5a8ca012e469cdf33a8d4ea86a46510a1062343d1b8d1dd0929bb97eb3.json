{"ast":null,"code":"// import { createSlice } from '@reduxjs/toolkit';\n// import { IChef } from '../../components/ChefPage/ChefPage';\n\n// const data = async () => {\n// \ttry {\n// \t\tconst response = await fetch('http://localhost:8000/chef/', {\n// \t\t\tmethod: 'GET',\n// \t\t});\n// \t\tconst data = await response.json();\n// \t\tconsole.log(data);\n// \t\treturn data;\n// \t} catch (err) {\n// \t\tconsole.log();\n// \t}\n// };\n\n// const chefs: IChef[] = await data();\n// export const chefSlice = createSlice({\n// \tname: 'chef',\n// \tinitialState: {\n// \t\tvalue: chefs,\n// \t\tfilteredValue: chefs,\n// \t},\n// \treducers: {\n// \t\tsetAllchefs: (state) => {\n// \t\t\tstate.filteredValue = state.value;\n// \t\t},\n// \t\tsetNewChef: (state) => {\n// \t\t\tstate.filteredValue = state.value.filter((chef) => chef.newChef === true);\n// \t\t},\n// \t\tsetMostView: (state) => {\n// \t\t\tstate.filteredValue = [...state.value].sort(\n// \t\t\t\t(a: any, b: any) => b?.views - a?.views\n// \t\t\t);\n// \t\t},\n// \t\tremoveChef: (state, action) => {\n// \t\t\tconst currentUser = action.payload;\n// \t\t\tconst removeChef = chefs.find((user: IChef) => {\n// \t\t\t\treturn user._id === currentUser._id;\n// \t\t\t});\n// \t\t\tif (!removeChef) {\n// \t\t\t\treturn state;\n// \t\t\t}\n// \t\t\tstate.filteredValue = state.filteredValue.filter((user: IChef) => {\n// \t\t\t\treturn user._id !== removeChef._id;\n// \t\t\t});\n// \t\t},\n// \t},\n// });\n\n// export const { setAllchefs, setNewChef, setMostView, removeChef } =\n// \tchefSlice.actions;\n\n// export default chefSlice.reducer;\n\nimport { createSlice } from '@reduxjs/toolkit';\nconst data = async () => {\n  try {\n    const response = await fetch('http://localhost:8000/chef/', {\n      method: 'GET'\n    });\n    const data = await response.json();\n    console.log(data);\n    return data;\n  } catch (err) {\n    console.log();\n  }\n};\nconst chefs = await data();\nexport const chefSlice = createSlice({\n  name: 'chef',\n  initialState: {\n    value: chefs,\n    filteredValue: [{}]\n  },\n  reducers: {\n    setAllchefs: state => {\n      state.filteredValue = state.value;\n    },\n    setNewChef: state => {\n      state.filteredValue = state.value.filter(chef => chef.newChef === true);\n    },\n    setMostView: state => {\n      state.filteredValue = [...state.value].sort((a, b) => (b === null || b === void 0 ? void 0 : b.views) - (a === null || a === void 0 ? void 0 : a.views));\n    },\n    removeChef: (state, action) => {\n      const currentUser = action.payload;\n      const removeChef = chefs.find(user => {\n        return user._id === currentUser._id;\n      });\n      if (!removeChef) {\n        return state;\n      }\n      state.filteredValue = state.value.filter(user => {\n        return user._id !== removeChef._id;\n      });\n    }\n  }\n});\nexport const {\n  setAllchefs,\n  setNewChef,\n  setMostView,\n  removeChef\n} = chefSlice.actions;\nexport default chefSlice.reducer;","map":{"version":3,"names":["createSlice","data","response","fetch","method","json","console","log","err","chefs","chefSlice","name","initialState","value","filteredValue","reducers","setAllchefs","state","setNewChef","filter","chef","newChef","setMostView","sort","a","b","views","removeChef","action","currentUser","payload","find","user","_id","actions","reducer"],"sources":["C:/Users/hagar/bootcamp/finalepicure/frontend/src/store/slices/chefSlice.tsx"],"sourcesContent":["// import { createSlice } from '@reduxjs/toolkit';\r\n// import { IChef } from '../../components/ChefPage/ChefPage';\r\n\r\n// const data = async () => {\r\n// \ttry {\r\n// \t\tconst response = await fetch('http://localhost:8000/chef/', {\r\n// \t\t\tmethod: 'GET',\r\n// \t\t});\r\n// \t\tconst data = await response.json();\r\n// \t\tconsole.log(data);\r\n// \t\treturn data;\r\n// \t} catch (err) {\r\n// \t\tconsole.log();\r\n// \t}\r\n// };\r\n\r\n// const chefs: IChef[] = await data();\r\n// export const chefSlice = createSlice({\r\n// \tname: 'chef',\r\n// \tinitialState: {\r\n// \t\tvalue: chefs,\r\n// \t\tfilteredValue: chefs,\r\n// \t},\r\n// \treducers: {\r\n// \t\tsetAllchefs: (state) => {\r\n// \t\t\tstate.filteredValue = state.value;\r\n// \t\t},\r\n// \t\tsetNewChef: (state) => {\r\n// \t\t\tstate.filteredValue = state.value.filter((chef) => chef.newChef === true);\r\n// \t\t},\r\n// \t\tsetMostView: (state) => {\r\n// \t\t\tstate.filteredValue = [...state.value].sort(\r\n// \t\t\t\t(a: any, b: any) => b?.views - a?.views\r\n// \t\t\t);\r\n// \t\t},\r\n// \t\tremoveChef: (state, action) => {\r\n// \t\t\tconst currentUser = action.payload;\r\n// \t\t\tconst removeChef = chefs.find((user: IChef) => {\r\n// \t\t\t\treturn user._id === currentUser._id;\r\n// \t\t\t});\r\n// \t\t\tif (!removeChef) {\r\n// \t\t\t\treturn state;\r\n// \t\t\t}\r\n// \t\t\tstate.filteredValue = state.filteredValue.filter((user: IChef) => {\r\n// \t\t\t\treturn user._id !== removeChef._id;\r\n// \t\t\t});\r\n// \t\t},\r\n// \t},\r\n// });\r\n\r\n// export const { setAllchefs, setNewChef, setMostView, removeChef } =\r\n// \tchefSlice.actions;\r\n\r\n// export default chefSlice.reducer;\r\n\r\nimport { createSlice } from '@reduxjs/toolkit';\r\nimport { IChef } from '../../components/ChefPage/ChefPage';\r\n\r\nconst data = async () => {\r\n\ttry {\r\n\t\tconst response = await fetch('http://localhost:8000/chef/', {\r\n\t\t\tmethod: 'GET',\r\n\t\t});\r\n\t\tconst data = await response.json();\r\n\t\tconsole.log(data);\r\n\t\treturn data;\r\n\t} catch (err) {\r\n\t\tconsole.log();\r\n\t}\r\n};\r\n\r\nconst chefs: IChef[] = await data();\r\nexport const chefSlice = createSlice({\r\n\tname: 'chef',\r\n\tinitialState: {\r\n\t\tvalue: chefs,\r\n\t\tfilteredValue: [{}],\r\n\t},\r\n\treducers: {\r\n\t\tsetAllchefs: (state) => {\r\n\t\t\tstate.filteredValue = state.value;\r\n\t\t},\r\n\t\tsetNewChef: (state) => {\r\n\t\t\tstate.filteredValue = state.value.filter((chef) => chef.newChef === true);\r\n\t\t},\r\n\t\tsetMostView: (state) => {\r\n\t\t\tstate.filteredValue = [...state.value].sort(\r\n\t\t\t\t(a: any, b: any) => b?.views - a?.views\r\n\t\t\t);\r\n\t\t},\r\n\t\tremoveChef: (state, action) => {\r\n\t\t\tconst currentUser = action.payload;\r\n\t\t\tconst removeChef = chefs.find((user: IChef) => {\r\n\t\t\t\treturn user._id === currentUser._id;\r\n\t\t\t});\r\n\t\t\tif (!removeChef) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\t\t\tstate.filteredValue = state.value.filter((user: IChef) => {\r\n\t\t\t\treturn user._id !== removeChef._id;\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport const { setAllchefs, setNewChef, setMostView, removeChef } =\r\n\tchefSlice.actions;\r\n\r\nexport default chefSlice.reducer;\r\n"],"mappings":"AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,SAASA,WAAW,QAAQ,kBAAkB;AAG9C,MAAMC,IAAI,GAAG,YAAY;EACxB,IAAI;IACH,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,6BAA6B,EAAE;MAC3DC,MAAM,EAAE;IACT,CAAC,CAAC;IACF,MAAMH,IAAI,GAAG,MAAMC,QAAQ,CAACG,IAAI,EAAE;IAClCC,OAAO,CAACC,GAAG,CAACN,IAAI,CAAC;IACjB,OAAOA,IAAI;EACZ,CAAC,CAAC,OAAOO,GAAG,EAAE;IACbF,OAAO,CAACC,GAAG,EAAE;EACd;AACD,CAAC;AAED,MAAME,KAAc,GAAG,MAAMR,IAAI,EAAE;AACnC,OAAO,MAAMS,SAAS,GAAGV,WAAW,CAAC;EACpCW,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACbC,KAAK,EAAEJ,KAAK;IACZK,aAAa,EAAE,CAAC,CAAC,CAAC;EACnB,CAAC;EACDC,QAAQ,EAAE;IACTC,WAAW,EAAGC,KAAK,IAAK;MACvBA,KAAK,CAACH,aAAa,GAAGG,KAAK,CAACJ,KAAK;IAClC,CAAC;IACDK,UAAU,EAAGD,KAAK,IAAK;MACtBA,KAAK,CAACH,aAAa,GAAGG,KAAK,CAACJ,KAAK,CAACM,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,OAAO,KAAK,IAAI,CAAC;IAC1E,CAAC;IACDC,WAAW,EAAGL,KAAK,IAAK;MACvBA,KAAK,CAACH,aAAa,GAAG,CAAC,GAAGG,KAAK,CAACJ,KAAK,CAAC,CAACU,IAAI,CAC1C,CAACC,CAAM,EAAEC,CAAM,KAAK,CAAAA,CAAC,aAADA,CAAC,uBAADA,CAAC,CAAEC,KAAK,KAAGF,CAAC,aAADA,CAAC,uBAADA,CAAC,CAAEE,KAAK,EACvC;IACF,CAAC;IACDC,UAAU,EAAE,CAACV,KAAK,EAAEW,MAAM,KAAK;MAC9B,MAAMC,WAAW,GAAGD,MAAM,CAACE,OAAO;MAClC,MAAMH,UAAU,GAAGlB,KAAK,CAACsB,IAAI,CAAEC,IAAW,IAAK;QAC9C,OAAOA,IAAI,CAACC,GAAG,KAAKJ,WAAW,CAACI,GAAG;MACpC,CAAC,CAAC;MACF,IAAI,CAACN,UAAU,EAAE;QAChB,OAAOV,KAAK;MACb;MACAA,KAAK,CAACH,aAAa,GAAGG,KAAK,CAACJ,KAAK,CAACM,MAAM,CAAEa,IAAW,IAAK;QACzD,OAAOA,IAAI,CAACC,GAAG,KAAKN,UAAU,CAACM,GAAG;MACnC,CAAC,CAAC;IACH;EACD;AACD,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEjB,WAAW;EAAEE,UAAU;EAAEI,WAAW;EAAEK;AAAW,CAAC,GAChEjB,SAAS,CAACwB,OAAO;AAElB,eAAexB,SAAS,CAACyB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}